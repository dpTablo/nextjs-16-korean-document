# 404.js

`pages/404.js` 파일은 커스텀 404 페이지를 정의합니다. 이 파일은 빌드 시 정적으로 생성됩니다.

## 기본 사용법

`pages/404.js` 파일을 생성하여 커스텀 404 페이지를 정의할 수 있습니다:

```jsx filename="pages/404.js"
export default function Custom404() {
  return <h1>404 - 페이지를 찾을 수 없습니다</h1>
}
```

## `getStaticProps`와 함께 사용

빌드 시 데이터를 가져와야 하는 경우 `getStaticProps`를 사용할 수 있습니다:

```jsx filename="pages/404.js"
export async function getStaticProps() {
  const res = await fetch('https://api.example.com/links')
  const data = await res.json()

  return {
    props: { data },
  }
}

export default function Custom404({ data }) {
  return (
    <div>
      <h1>404 - 페이지를 찾을 수 없습니다</h1>
      <p>다음 페이지를 확인해보세요:</p>
      <ul>
        {data.links.map((link) => (
          <li key={link.href}>
            <a href={link.href}>{link.title}</a>
          </li>
        ))}
      </ul>
    </div>
  )
}
```

## 예제

### 기본 404 페이지

```jsx filename="pages/404.js"
import Link from 'next/link'

export default function Custom404() {
  return (
    <div className="error-container">
      <h1>404</h1>
      <h2>페이지를 찾을 수 없습니다</h2>
      <p>요청하신 페이지가 존재하지 않거나 이동되었을 수 있습니다.</p>
      <Link href="/">
        홈으로 돌아가기
      </Link>
    </div>
  )
}
```

### 검색 기능이 포함된 404 페이지

```jsx filename="pages/404.js"
import { useState } from 'react'
import { useRouter } from 'next/router'

export default function Custom404() {
  const [searchTerm, setSearchTerm] = useState('')
  const router = useRouter()

  const handleSearch = (e) => {
    e.preventDefault()
    if (searchTerm.trim()) {
      router.push(`/search?q=${encodeURIComponent(searchTerm)}`)
    }
  }

  return (
    <div className="error-container">
      <h1>404 - 페이지를 찾을 수 없습니다</h1>
      <p>찾으시는 페이지가 없습니다. 검색을 시도해보세요:</p>
      <form onSubmit={handleSearch}>
        <input
          type="text"
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
          placeholder="검색어를 입력하세요"
        />
        <button type="submit">검색</button>
      </form>
    </div>
  )
}
```

### 레이아웃이 적용된 404 페이지

```jsx filename="pages/404.js"
import Layout from '../components/Layout'
import Link from 'next/link'

export default function Custom404() {
  return (
    <Layout title="404 - 페이지를 찾을 수 없습니다">
      <div className="flex flex-col items-center justify-center min-h-screen">
        <h1 className="text-6xl font-bold text-gray-800">404</h1>
        <p className="mt-4 text-xl text-gray-600">
          페이지를 찾을 수 없습니다
        </p>
        <Link href="/" className="mt-6 px-4 py-2 bg-blue-500 text-white rounded">
          홈으로 돌아가기
        </Link>
      </div>
    </Layout>
  )
}
```

## 참고사항

- 404 페이지는 빌드 시 정적으로 생성됩니다.
- 매 방문 시마다 서버 렌더링하지 않아 서버 부하를 줄입니다.
- `getStaticProps`를 사용하여 빌드 시 데이터를 페칭할 수 있습니다.
- `getServerSideProps`는 404 페이지에서 사용할 수 없습니다.

## 관련 문서

- [500.js](/docs/pages/api-reference/file-conventions/500) - 500 에러 페이지
- [_error.js](/docs/pages/api-reference/file-conventions/_error) - 커스텀 에러 페이지
